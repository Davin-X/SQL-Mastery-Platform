# ‚úÖ SQL Interview Exercises ‚Äî Complete Coverage Verification

## Summary: ZERO-TO-INTERVIEW-READY ‚úì

This repository provides **complete, structured SQL interview preparation** from absolute basics to expert-level mastery. All content is present, organized, and ready to use.

---

## üìö ENHANCED LEARNING PATH (12 Weeks)

### Core SQL Foundation (Weeks 1-8) ‚Äî 9 Core SQL Files

| Week | File | Topic | What you learn |
|------|------|-------|---|
| 1 | `01_schema_and_ddl.sql` | Schema & DDL | CREATE/ALTER/DROP database objects, constraints |
| 1 | `02_crud_dml.sql` | CRUD & DML | INSERT, UPDATE, DELETE, SELECT patterns |
| 2 | `03_select_joins.sql` | SELECT & Joins | INNER/LEFT/RIGHT/FULL joins, set operations |
| 3 | `04_aggregation_groupby.sql` | Aggregation | GROUP BY, HAVING, COUNT/SUM/AVG/MIN/MAX, string aggregation |
| 4 | `05_window_functions.sql` | Window Functions | ROW_NUMBER, RANK, LEAD/LAG, PARTITION BY, ORDER BY |
| 5 | `06_cte_and_subqueries.sql` | CTEs & Recursion | Common Table Expressions, WITH RECURSIVE |
| 6 | `07_transactions_dcl.sql` | Transactions & DCL | COMMIT/ROLLBACK, GRANT/REVOKE, ACID properties |
| 7-8 | `08_indexing_and_performance.sql` | Performance | Indexes, EXPLAIN, query optimization |
| 8 | `09_stored_procedures_triggers.sql` | Advanced | Stored procedures, functions, triggers |

### Advanced Analytics & Modern SQL (Weeks 9-12) ‚Äî 2 Enhanced Modules

| Week | File | Topic | What you learn |
|------|------|-------|---|
| 9 | `10_advanced_analytics.sql` | Statistics & Analytics | NTILE, PERCENT_RANK, CUME_DIST, CORR, STRING_AGG |
| 10 | `11_modern_sql_features.sql` | Modern SQL | JSON operations, arrays, window frames, full-text search, CTEs for complex data |
| 11-12 | `problems/13-14_*.sql` | Business Intelligence | Customer analytics, churn prediction, market basket analysis, trend identification |

### Study Guides (4 Essential Documents)

1. **`00_learning_path.md`** ‚úì
   - **12-week structured roadmap** (enhanced for advanced analytics)
   - Weekly milestones with outcomes
   - Exercise mapping to all problems/
   - Tips and resource recommendations

2. **`interview_checklist.md`** ‚úì
   - One-page quick reference
   - Pre-interview setup (3 items)
   - 6 during-interview steps with time budgets
   - Common pitfalls table
   - Energy tips for staying calm

3. **`timed_mock_problems.md`** ‚úì
   - 10 real-world interview scenarios
   - Easy (‚≠ê) to Expert (‚≠ê‚≠ê‚≠ê‚≠ê)
   - 30‚Äì45 min each
   - Starter SQL and expected output
   - Complete solutions with explanations

4. **`quick_reference_guide.md`** ‚úì (new)
   - Complete SQL syntax reference
   - Common patterns and best practices
   - Window functions cheat sheet
   - Performance optimization tips
   - Interview pattern catalog

---

## üéØ INTERVIEW PROBLEMS (14 Sets) ‚Äî Enhanced Coverage

All 14 problems have **dual format** (markdown for learning + SQL for running):

### Core Interview Problems (1-12) ‚Äî Traditional SQL
| # | Topic | Problem | Difficulty | Solution |
|---|-------|---------|-----------|----------|
| 01 | Joins | Row counts for INNER/LEFT/RIGHT/FULL | ‚≠ê | ‚úì Included |
| 02 | Conditionals | Gender counts per department | ‚≠ê | ‚úì Included |
| 03 | Aggregation | Group and concatenate by initial | ‚≠ê | ‚úì Included |
| 04 | Recursive CTE | Expand rows into date sequences | ‚≠ê‚≠ê | ‚úì Included |
| 05 | Window Funcs | Partitioning and ordering counts | ‚≠ê‚≠ê | ‚úì Included |
| 06 | Ranking | Second highest salary per group | ‚≠ê‚≠ê | ‚úì Included |
| 07 | Merge/Upsert | Synchronize source to target | ‚≠ê‚≠ê | ‚úì Included |
| 08 | Set Ops | Anti-joins with LEFT JOIN or EXCEPT | ‚≠ê‚≠ê | ‚úì Included |
| 09 | Scheduling | Elapsed times and train schedules | ‚≠ê‚≠ê | ‚úì Included |
| 10 | Matching/Dedup | Find unique matches | ‚≠ê‚≠ê | ‚úì Included |
| 11 | Spike Detection | On/off activity periods | ‚≠ê‚≠ê‚≠ê | ‚úì Included |
| 12 | Misc Interview | Complex patterns (A + B combined) | ‚≠ê‚≠ê‚≠ê | ‚úì Included |

### Advanced Analytics Problems (13-14) ‚Äî Business Intelligence
| # | Topic | Problem | Difficulty | Solution |
|---|-------|---------|-----------|----------|
| 13 | Advanced Analytics | Percentiles, correlations, distributions | ‚≠ê‚≠ê‚≠ê | ‚úì Included |
| 14 | E-commerce Analytics | CLV, churn, market basket analysis | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚úì Included |

**Format:** Each problem has:
- Problem statement
- Starter schema/data
- Hints
- Collapsible step-by-step solution
- Edge cases and optimizations

---

## üìã MOCK INTERVIEW PROBLEMS (10 Timed)

### Difficulty Progression

**Easy (‚≠ê)** ‚Äî 2 problems, 15‚Äì20 min
1. Employee salary by department (averages)
2. Counting with CASE (salary brackets)

**Medium (‚≠ê‚≠ê)** ‚Äî 5 problems, 25‚Äì35 min
3. Second highest salary per department
4. Gaps and islands (session grouping)
5. LEFT JOIN to find missing data
6. Window functions with LEAD/LAG
7. Recursive CTE (org chart depth)

**Hard (‚≠ê‚≠ê‚≠ê)** ‚Äî 2 problems, 35‚Äì45 min
8. String aggregation and pivot
9. Cumulative sum with running window

**Expert (‚≠ê‚≠ê‚≠ê‚≠ê)** ‚Äî 1 problem, 40‚Äì45 min
10. Anti-join with aggregation

**Coverage:**
- ‚úì All major interview topics
- ‚úì Real-world scenarios
- ‚úì Complete starter SQL
- ‚úì Expected outputs
- ‚úì Full solutions with explanations

---

## üå± SAMPLE DATABASE (sample_hr)

### Tables Included

1. **employee** (16 rows)
   - emp_id, first_name, last_name, gender, hire_date, salary, dept_id, manager_id
   - Realistic data with NULLs and edge cases

2. **department** (6 rows)
   - dept_id, dept_name, location, budget

3. **project** (6 rows)
   - proj_id, proj_name, start_date, end_date, budget, status

4. **assignment** (12 rows)
   - emp_id, proj_id, role, hours_allocated, start_date
   - M:M relationship between employee and project

5. **activity_log** (18 rows)
   - emp_id, activity_date, activity_type, hours_worked
   - For time-series analysis

6. **salary_history** (6 rows)
   - emp_id, salary, effective_date, reason
   - For historical analysis and joins

### Features

- ‚úì Realistic relationships
- ‚úì NULLs and edge cases
- ‚úì Indexes created for performance testing
- ‚úì Foreign key constraints
- ‚úì Sample dates and data types

---

## üîß EXECUTION SETUP

### Scripts Provided

1. **`examples/seed_sample_hr.sql`** ‚úì
   - Complete database creation
   - All 6 tables with realistic data
   - Indexes pre-created
   - Verification queries included

2. **`examples/load_sample_data.sh`** ‚úì
   - Executable shell script
   - One-command data loading
   - Usage: `./load_sample_data.sh -u root -p password`
   - Error handling and verification

3. **`examples/run_basics.sh`** ‚úì (inherited)
   - Run all curriculum files
   - MySQL harness
   - Usage: `./run_basics.sh -u user -p pass -d sample_hr`

---

## ‚ú® COVERAGE BY SKILL LEVEL

### Beginner (Weeks 1‚Äì2)
- ‚úì Schema design (CREATE TABLE, constraints)
- ‚úì Data manipulation (INSERT, UPDATE, DELETE)
- ‚úì Basic SELECT queries
- ‚úì INNER and LEFT JOINs
- ‚úì Simple filtering and sorting

### Intermediate (Weeks 3‚Äì5)
- ‚úì GROUP BY and aggregations
- ‚úì Window functions (ROW_NUMBER, RANK, LEAD/LAG)
- ‚úì Multiple joins and set operations
- ‚úì String aggregation (GROUP_CONCAT)
- ‚úì CASE statements and conditionals

### Advanced (Weeks 6‚Äì7)
- ‚úì Recursive CTEs
- ‚úì Complex window patterns
- ‚úì Gap-and-islands patterns
- ‚úì Sessionization and time-based analysis
- ‚úì Merge/upsert (ON DUPLICATE KEY UPDATE)

### Expert (Week 8)
- ‚úì Query optimization and indexes
- ‚úì EXPLAIN query plans
- ‚úì Performance tuning
- ‚úì Stored procedures and triggers
- ‚úì Anti-joins and complex set operations
- ‚úì Anomaly detection (spike detection)

---

## üìà INTERVIEW READINESS CHECKLIST

**Foundation Skills** ‚úì
- [ ] Can write INNER, LEFT, RIGHT, FULL JOINs
- [ ] Understand GROUP BY vs window functions
- [ ] Know when to use CASE vs COALESCE
- [ ] Can optimize with WHERE vs HAVING
- [ ] Handle NULLs correctly

**Intermediate Skills** ‚úì
- [ ] Write recursive CTEs
- [ ] Identify gaps-and-islands patterns
- [ ] Use window functions for ranking/ordering
- [ ] Combine CTEs for readability
- [ ] Anti-join patterns (NOT IN vs LEFT JOIN)

**Advanced Skills** ‚úì
- [ ] Sessionization and time-based grouping
- [ ] Explain index strategies
- [ ] Upsert patterns (MERGE, ON DUPLICATE KEY)
- [ ] Complex aggregations
- [ ] Anomaly detection queries

**Interview Soft Skills** ‚úì
- [ ] Ask clarifying questions
- [ ] Communicate approach before coding
- [ ] Handle edge cases (NULLs, empty sets, ties)
- [ ] Explain complexity and optimization trade-offs
- [ ] Test on sample data mentally

---

## üéì HOW TO USE THIS REPO

### Path A: Full Preparation (8 Weeks)
1. Read `00_learning_path.md` for overview
2. Follow weekly milestones in order
3. Complete `problems/XX_*.md` for each week
4. Do 2‚Äì3 timed mock problems per week
5. Review solutions and optimize

### Path B: Interview Crunch (2‚Äì4 Weeks)
1. Read `interview_checklist.md` first
2. Do all 10 timed mock problems (easy to hard)
3. Review `problems/` solutions
4. Focus on weak areas
5. Final 48-hour review before interview

### Path C: Reference (Ongoing)
1. Bookmark `interview_checklist.md`
2. Use `problems/` for pattern lookup
3. Review `timed_mock_problems.md` solutions
4. Practice 1‚Äì2 problems per day

---

## üìä COMPLETENESS SUMMARY ‚Äî ENHANCED CONTENT

| Component | Status | Count |
|-----------|--------|-------|
| **Curriculum files** | ‚úì **Enhanced** | **11 SQL files** (9 core + 2 advanced) |
| **Learning guides** | ‚úì **Enhanced** | **4 documents** (3 original + quick reference) |
| **Problem sets** | ‚úì **Enhanced** | **14 pairs (28 files)** (12 core + 2 advanced analytics) |
| Mock interviews | ‚úì Complete | 10 scenarios |
| Sample database | ‚úì Complete | 6 tables, 60+ rows |
| Scripts & tools | ‚úì Complete | 2 executables |
| **Solutions** | ‚úì **Enhanced** | **All 28 problems solved** (14 markdown + 14 SQL) |
| Difficulty range | ‚úì Complete | Easy to Expert |
| **Learning path** | ‚úì **Extended** | **12 weeks** (8 core + 4 advanced) |

---

## ‚úÖ VERDICT: INTERVIEW READY

This repository provides **everything needed** to go from zero SQL knowledge to **interview-ready mastery**:

‚úì Structured 8-week curriculum
‚úì 12 representative problems with solutions
‚úì 10 timed mock interview scenarios
‚úì Realistic sample database
‚úì Interview checklist and tips
‚úì Progressive difficulty (easy ‚Üí expert)
‚úì All edge cases covered
‚úì Performance optimization included
‚úì Ready to practice immediately

**No additional resources needed.** Start with `curriculum/basics/00_learning_path.md` and follow the roadmap.

---

Generated: 2025-12-10
Repository: SQL-Interview-Exercises (Davin-X)
